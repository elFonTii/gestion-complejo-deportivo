/**
 * Remove any unnecessary characters from the input.
 * @param idNumber
 */
var cleanIdNumber = function cleanIdNumber(idNumber) {
  return idNumber.replace(/\D/g, '');
};

/**
 * Given a valid uruguayan identification number,
 * generates it's validation/verification digit.
 *
 * @example generateValidationDigit('1111111') => 1
 *
 * @param idNumber The first 6 or 7 digits of the identification number.
 */
var generateValidationDigit = function generateValidationDigit(idNumber) {
  var ci = typeof idNumber === 'number' ? idNumber.toString() : idNumber;

  if (ci.length <= 6) {
    for (var i = ci.length; i < 7; i++) {
      ci = '0' + ci;
    }
  }

  return safeGenerateValidationDigit(ci);
};

var safeGenerateValidationDigit = function safeGenerateValidationDigit(idNumber) {
  var ci = idNumber;
  var sum = 0;

  for (var i = 0; i < 7; i++) {
    sum += parseInt('2987634'[i]) * parseInt(ci[i]) % 10;
  }

  if (sum % 10 === 0) {
    return 0;
  }

  return 10 - sum % 10;
};

/**
 * Generates a random, valid  uruguayan identification number.
 */

var generateRandomNumber = function generateRandomNumber() {
  var base = Math.floor(Math.random() * 10000000 + 1000000).toString();
  return base.substring(0, 7) + generateValidationDigit(base);
};

/**
 * Given an uruguayan identification number, checks the number is valid or not
 * based on its length and validation digit.
 * @param idNumber Uruguayan Identification Number (CÃ©dula de Identidad - DNIC)
 */

var validateIdentificationNumber = function validateIdentificationNumber(idNumber) {
  var ci = typeof idNumber === 'number' ? idNumber.toString() : idNumber;

  if (ci.length < 7 || ci.length > 8) {
    return false;
  }

  var cleanNumber = cleanIdNumber(ci);
  var possibleValidationDigit = parseInt(cleanNumber[cleanNumber.length - 1], 10);
  var validableNumber = cleanNumber.replace(/[0-9]$/, '');
  var actualValidationDigit = generateValidationDigit(validableNumber);
  return possibleValidationDigit === actualValidationDigit;
};

export { cleanIdNumber, generateRandomNumber, generateValidationDigit, validateIdentificationNumber };
//# sourceMappingURL=ciuy.esm.js.map
